{
  "version": 3,
  "sources": ["../../../app/routes/_public.contest.contestant.$contestantId._index.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/_public.contest.contestant.$contestantId._index.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/_public.contest.contestant.$contestantId._index.tsx\");\n  import.meta.hot.lastModified = \"1764480338906.9666\";\n}\n// REMIX HMR END\n\n// IreneBrooksPortfolio.tsx\n\nimport { useLoaderData } from '@remix-run/react';\nimport React, { useEffect, useState } from 'react';\nimport ContestantCard, { ContestantStatisticsCard } from '~/components/public/contests/ContestantCard';\nimport { toast } from '~/components/reusables/use-toast';\nimport { contestantHelper } from '~/lib/helpers/contestant.helper';\nimport { getFingerprint } from '~/lib/session.server';\nimport { contestantRepo } from '~/services/contestant/contestant.server';\nimport { action as registerAction } from './_public.contests.$tournamentId.$contestId._index';\nimport { useLocation } from '@remix-run/react';\n// ... (loader and useContestContestantController remain the same) ...\n// type RegisterAction = typeof action\nexport async function loader({\n  request\n}) {\n  // call contestant server to get contestant data\n  const url = new URL(request.url);\n  const {\n    fingerprint\n  } = await getFingerprint({\n    request\n  });\n  const contestantCode = url.searchParams.get('contestantCode') ?? \"\";\n  const stageId = url.searchParams.get('stageId') ?? \"\";\n  const {\n    data,\n    error\n  } = await contestantRepo.getContestantDetailsForContest(contestantCode, stageId);\n  return {\n    data,\n    error,\n    url: request.url\n  };\n}\nexport { registerAction as action };\nexport function useContestContestantController() {\n  _s();\n  const [enrichedContestants, setEnrichedcontestants] = useState([]);\n  const [contestantDetailsForActiveStage, setContestantDetailsForActiveStage] = useState(null);\n  const {\n    data,\n    error,\n    url\n  } = useLoaderData();\n  const location = useLocation();\n  // console.log({data, error}) // Removed for production\n  // Use a ref for the toast logic to ensure it doesn't fire multiple times in strict mode\n  const [isToastFired, setIsToastFired] = useState(false);\n  useEffect(() => {\n    if (error && !isToastFired) {\n      toast({\n        variant: \"destructive\",\n        title: \"An error occured\",\n        description: error?.detail.toString() ?? \"Error occured\"\n      });\n      setIsToastFired(true);\n    }\n  }, [error, isToastFired]);\n  useEffect(() => {\n    if (data) {\n      const _enrichedContestants = contestantHelper.enrichContestantsDataForContest(data);\n      setEnrichedcontestants(_enrichedContestants);\n      // Find the currently active/ongoing stage for the main display\n      setContestantDetailsForActiveStage(_enrichedContestants.find(c => c.stageStatus === \"ongoing\") ?? _enrichedContestants[0] ?? null);\n    }\n  }, [data]);\n  const handleCopy = async () => {\n    /// Copy the URL to the clipboard\n    await navigator.clipboard.writeText(url);\n    toast({\n      title: \"Link Copied\",\n      description: \"Contestant profile link copied to clipboard.\"\n    });\n  };\n  let WhatsAppText = `Please vote for my profile in the contest! Check it out here: ${url}`;\n  const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(WhatsAppText)}`;\n  return {\n    enrichedContestants,\n    contestantDetailsForActiveStage,\n    handleCopy,\n    whatsappUrl\n  };\n}\n_s(useContestContestantController, \"o4R6DGFSCoyvH3ENgnXR+UYzh9E=\", false, function () {\n  return [useLoaderData, useLocation];\n});\nexport default function ContestContestant() {\n  _s2();\n  const {\n    enrichedContestants,\n    contestantDetailsForActiveStage,\n    handleCopy,\n    whatsappUrl\n  } = useContestContestantController();\n  const profileContestant = contestantDetailsForActiveStage || enrichedContestants[0]; // Use active or first available\n\n  if (!profileContestant) {\n    return <div className=\"min-h-screen flex items-center justify-center \">\n            <p className=\"text-xl text-gray-500\">Loading or no contestant data found...</p>\n        </div>;\n  }\n  const {\n    originalContestantData,\n    stageSocialMedia,\n    fullName,\n    info,\n    stage,\n    is_evicted\n  } = profileContestant;\n  return <div className=\"min-h-screen text-gray-900\">\n      \n      {/* ------------------- HERO PROFILE SECTION ------------------- */}\n      <header className=\" pt-24 pb-16 border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          \n          <div className=\"flex flex-col lg:flex-row items-start lg:space-x-12\">\n            \n            {/* Image Card (Left) - Now uses the ContestantCard for consistent style */}\n            <div className=\"w-full lg:w-96 flex-shrink-0 mb-8 lg:mb-0\">\n              {/* Note: This ContestantCard should ideally be a simplified 'ProfileCard' if used here, \n                 but we use the original for immediate compatibility/display of the main details. */}\n              <ContestantCard contestant={originalContestantData} socialMedia={stageSocialMedia} />\n            </div>\n\n            {/* Profile Details and Stats (Right) */}\n            <div className=\"flex-grow pt-4\">\n              <div className=\"flex justify-between items-start\">\n                  <div>\n                      <div className=\"flex items-center mb-2\">\n                          <h1 className=\"text-5xl font-extrabold text-gray-900\">\n                              {fullName}\n                          </h1>\n                          <span className=\"ml-4 inline-flex items-center px-4 py-1.5 rounded-full text-base font-semibold tracking-wide bg-indigo-50 text-indigo-800\">\n                              {is_evicted ? \"EVICTED\" : \"ACTIVE\"}\n                          </span>\n                      </div>\n                      <p className=\"text-xl text-gray-600 mb-6 font-light\">{info}</p>\n                      <p className=\"text-lg text-gray-700 mb-8 max-w-2xl\">{contestantDetailsForActiveStage?.info ?? \"No stage-specific bio available. Displaying general contestant info.\"}</p>\n                      \n                      {/* Action Buttons */}\n                      <div className=\"flex space-x-4 mb-8\">\n                          <button onClick={() => handleCopy()} className=\"bg-indigo-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 transform hover:scale-[1.02]\">\n                              Share Link\n                          </button>\n                          <a href={whatsappUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"bg-white border border-gray-300 text-gray-900 font-semibold py-3 px-8 rounded-lg hover:bg-gray-100 transition duration-150 transform hover:scale-[1.02]\">\n                              Share via WhatsApp\n                          </a>\n                      </div>\n                  </div>\n\n                  \n              </div>\n\n              {/* Contest Stats */}\n              <div className=\"grid grid-cols-3 gap-8 pt-6 mt-6 border-t border-gray-200\">\n                <div className=\"flex flex-col\">\n                  <span className=\"text-5xl font-extrabold text-indigo-600\">{enrichedContestants.length}</span>\n                  <span className=\"text-sm text-gray-500 uppercase tracking-wider mt-1\">Total Stages</span>\n                </div>\n                <div className=\"flex flex-col\">\n                  <span className=\"text-5xl font-extrabold text-gray-900\">{stage}</span>\n                  <span className=\"text-sm text-gray-500 uppercase tracking-wider mt-1\">Current Stage</span>\n                </div>\n                <div className=\"flex flex-col\">\n                  <span className=\"text-5xl font-extrabold text-gray-900\">{is_evicted ? \"No\" : \"Yes\"}</span>\n                  <span className=\"text-sm text-gray-500 uppercase tracking-wider mt-1\">In Contest</span>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* ------------------- STAGES PORTFOLIO SECTION ------------------- */}\n      <main className=\"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8\">\n        \n        {/* Secondary Navigation Tabs (Sticky for better UX) */}\n        <div className=\" z-10 border-b border-gray-200 mb-8 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 pt-4 pb-3\">\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">Contest Stages History</h2>\n            {/* Keeping a simple tab for future expansion (e.g., 'Achievements', 'Gallery') */}\n            <nav>\n                <ul className=\"flex space-x-10 text-lg font-medium\">\n                    <li className=\"text-indigo-600 border-b-2 border-indigo-600 pb-2 cursor-pointer\">\n                        All Stages ({enrichedContestants.length})\n                    </li>\n                    {/* Add more tabs here later */}\n                </ul>\n            </nav>\n        </div>\n        \n        {/* Stage Cards Grid */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-3\">\n          {enrichedContestants.map(contestant => <ContestantStatisticsCard key={`${contestant.code}-${contestant.id}`} contestant={contestant} />)}\n        </div>\n        \n      </main>\n    </div>;\n}\n_s2(ContestContestant, \"6KE1iuEWRikVey+TUTiotAA3eUI=\", false, function () {\n  return [useContestContestantController];\n});\n_c = ContestContestant;\nvar _c;\n$RefreshReg$(_c, \"ContestContestant\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react", "import_contestant"]
}
