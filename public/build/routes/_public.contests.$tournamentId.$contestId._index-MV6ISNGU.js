import{c as X}from"/build/_shared/chunk-FXXDJ2XE.js";import{a as Q}from"/build/_shared/chunk-7WQOGNXA.js";import{a as H}from"/build/_shared/chunk-2O4YUM5R.js";import{a as J}from"/build/_shared/chunk-MPFSB7BL.js";import{b as K}from"/build/_shared/chunk-PMPMQY2J.js";import{b as F}from"/build/_shared/chunk-6Y722YOL.js";import"/build/_shared/chunk-HYPIXEO2.js";import"/build/_shared/chunk-E6DLCIAF.js";import{a as I}from"/build/_shared/chunk-WFNSFFXI.js";import{a as S}from"/build/_shared/chunk-OOBZAV5T.js";import{a as x,b as h,c as v,d as N,e as f}from"/build/_shared/chunk-BI2ASFVQ.js";import"/build/_shared/chunk-7FR7ZJEG.js";import"/build/_shared/chunk-HBHTWN7R.js";import"/build/_shared/chunk-LTJF3XWP.js";import{a as g}from"/build/_shared/chunk-DU3ERRUZ.js";import"/build/_shared/chunk-IQWR6URL.js";import"/build/_shared/chunk-UJQ7BYHA.js";import"/build/_shared/chunk-ZJKJC2ET.js";import"/build/_shared/chunk-SV3SHFZF.js";import"/build/_shared/chunk-FNRBHFIN.js";import{a as w}from"/build/_shared/chunk-EQOSR4CK.js";import{a as le}from"/build/_shared/chunk-PCPGSTDU.js";import"/build/_shared/chunk-XVMOG6SQ.js";import{a as U,b as T}from"/build/_shared/chunk-7ERNTC7H.js";import{a as se}from"/build/_shared/chunk-OS2L5QU2.js";import{a as Y}from"/build/_shared/chunk-XLO4HCR6.js";import{b as V,c as q,d as W,j as b}from"/build/_shared/chunk-NNNROOR6.js";import{a as M}from"/build/_shared/chunk-IXKRAC64.js";import"/build/_shared/chunk-G6RWU2BR.js";import{a as oe}from"/build/_shared/chunk-74OT6ATM.js";import{h as G,i as P,j as ae,m as j,r as z,s as $,t as O}from"/build/_shared/chunk-SN2BHVXC.js";import{a as te,b as i}from"/build/_shared/chunk-653BTUZP.js";import{c as r}from"/build/_shared/chunk-W5DRAD4K.js";var re=r(oe(),1);var B=r(le(),1),ne=r(se(),1);ae();var Z=r(te(),1);var n=r(i(),1),k=Z.default.forwardRef(function({type:t,url:m,className:u="",...p},_){let c=m?{element:"link",to:m,...p}:{element:"button",ref:_,...p},y=O();return t==="kotmy"?(0,n.jsxs)(y.Form,{method:"POST",children:[(0,n.jsx)("input",{type:"hidden",name:"contestant_id",value:p.contestantId}),(0,n.jsx)("input",{type:"hidden",name:"stage_id",value:p.stageId}),(0,n.jsxs)(I,{element:"button",name:"intent",value:"kotmy_vote",variant:"outline",className:w("p-2 flex items-center border rounded-full w-full",u),children:[(0,n.jsx)("span",{className:w("w-6 h-6 flex items-center justify-center rounded-full p-1"),children:(0,n.jsx)(T,{src:F[t]})}),(0,n.jsxs)("span",{className:"grow text-xs font-bold text-center mr-2",children:[p.voted?null:(0,n.jsx)("span",{className:"capitalize",children:t}),p.voted?"Voted":" vote"]})]})]}):(0,n.jsxs)(I,{...c,variant:"outline",className:w("p-2 flex items-center border rounded-full",{"border-facebook text-facebook bg-facebookBG hover:bg-facebook/15":t==="facebook","border-instagram text-instagram bg-instagramBG hover:bg-instagram/15":t==="instagram","border-twitter text-twitter bg-twitterBG hover:bg-twitter/15":t==="twitter","border-tally text-tally bg-tallyBG hover:bg-tally/15":t==="tally","border-givaah text-givaah bg-givaahBG hover:bg-givaah/15":t==="givaah"},u),children:[(0,n.jsx)("span",{className:w("w-6 h-6 flex items-center justify-center rounded-full p-1",{"bg-facebook":t==="facebook","bg-instagram":t==="instagram","bg-twitter":t==="twitter","bg-tally":t==="tally","bg-givaah":t==="givaah"}),children:(0,n.jsx)(T,{src:F[t]})}),(0,n.jsxs)("span",{className:"grow text-xs font-bold text-center mr-2",children:[(0,n.jsx)("span",{className:"capitalize",children:t})," vote"]})]})});var d=r(i(),1);function D({contestant:e,socialMedia:t}){let m=`${e.contestant_biodata.first_name} ${e.contestant_biodata.last_name}`;return(0,d.jsxs)("article",{className:"border-2 border-primary rounded-3xl overflow-hidden",children:[(0,d.jsx)("img",{src:e.image_url||b,alt:"person smiling",className:"w-full h-80 object-cover object-top"}),(0,d.jsxs)("div",{className:"p-4 bg-secondary",children:[(0,d.jsx)("span",{className:"block text-[#5F6D7E] text-sm font-medium mb-2",children:"Vote now for your favorite contestant"}),(0,d.jsx)("span",{className:"block font-black uppercase mb-4",children:m}),(0,d.jsx)("span",{className:"block text-[#5F6D7E] text-sm font-medium mb-2",children:e.category}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[t==="kotmy"?(0,d.jsx)(k,{type:t,url:e.social_media_url,voted:e.result.device_voted_for_contestant,contestantId:e._id,stageId:e.stage_id}):(0,d.jsx)(k,{type:t,url:e.social_media_url,voted:e.result.device_voted_for_contestant}),(0,d.jsx)(K,{contestant:e,children:(0,d.jsx)(k,{type:"tally",className:"w-full"})})]})]})]})}var a=r(i(),1);function R({contest:e,stage:t}){let[m,u]=P(),p=e.status,_=p==="ongoing"?"green":p==="completed"?"red":"gray";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"wrapper my-16 grid md:grid-cols-2 justify-between gap-6 md:gap-8",children:[(0,a.jsxs)("div",{className:"grid",children:[(0,a.jsxs)("div",{className:"max-w-2xl",children:[(0,a.jsx)("h1",{className:"text-accent text-2xl lg:text-4xl font-satoshi-black max-w-3xl mb-3 uppercase",children:e.name}),(0,a.jsx)("p",{className:"font-satoshi-medium",children:e.desc})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-2 max-w-4xl",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("span",{className:"block font-satoshi-bold mb-1",children:"Status"}),(0,a.jsx)(M,{status:p,color:_})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("span",{className:"block font-satoshi-bold mb-1",children:"Categories"}),(0,a.jsx)("div",{className:"flex gap-4 flex-wrap capitalize",children:e.categories.map(c=>(0,a.jsxs)("span",{children:["~ ",c]},c))})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("span",{className:"block font-satoshi-bold mb-1",children:"Prizes"}),(0,a.jsx)("span",{className:"block",children:e.prizes})]})]}),(0,a.jsx)(S,{deadline:new Date(e.end_date),title:"contest ends in"})]}),(0,a.jsx)("img",{src:e.image||b,alt:"kid smiling",className:"w-full rounded-3xl h-[350px] object-cover"})]}),(0,a.jsxs)("section",{className:"wrapper my-16",children:[(0,a.jsxs)("h2",{className:"text-accent text-lg lg:text-2xl font-satoshi-bold mb-3 sm:mb-6 uppercase",children:[e.name," contestants"]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-end gap-6 sm:gap-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)(g,{as:"input",type:"search",className:"min-w-[280px] bg-white py-2 text-sm",placeholder:"Search contestant by name"}),(0,a.jsxs)(x,{value:String(t?.stage),onValueChange:c=>u(y=>(y.set("stage",c),y)),children:[(0,a.jsx)(v,{className:"sm:w-[180px] h-auto rounded-lg shadow-none bg-white hover:border-accent",children:(0,a.jsx)(h,{placeholder:"Stage 1"})}),(0,a.jsx)(N,{children:e.stages.map(c=>(0,a.jsxs)(f,{value:String(c.stage),className:"focus:bg-blue-700/25",children:["Stage ",c.stage]},c.stage))})]})]}),(0,a.jsx)(G,{to:`scoreboard?${m.toString()}`,className:"w-fit text-accent font-bold hover:underline underline-offset-4",children:"See scoreboard"})]}),(0,a.jsx)("div",{className:"my-16 grid sm:grid-cols-2 xl:grid-cols-3 gap-x-12 gap-y-16",children:t?.contestants.map(c=>(0,a.jsx)(D,{contestant:c,socialMedia:t.rates.social_media.type},c.code))})]})]})}var s=r(i(),1);function E({contestant:e,contest:t}){let m=`${e.contestant_biodata.first_name} ${e.contestant_biodata.last_name}`,u=new Date(e.contestant_biodata.dob).toDateString();return(0,s.jsxs)("div",{className:"bg-secondary p-10 sm:rounded-3xl flex flex-col max-w-xl gap-10",children:[(0,s.jsxs)("aside",{className:"border-2 border-success-700 bg-success-500 rounded-xl p-6 flex items-start gap-4",children:[(0,s.jsx)("img",{src:U.alertCheckIcon,width:30,height:30,className:"mt-1"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"block font-bold mb-2",children:"Dear Esteemed Contestant/Guardian"}),(0,s.jsxs)("span",{className:"font-medium",children:["Congratulations, ",m,"! Your submission to ",t.name," has been received successfully. Your code is ",(0,s.jsx)("span",{className:"font-semibold",children:e.code}),"."]})]})]}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 justify-between gap-6 sm:gap-10",children:[(0,s.jsx)("img",{src:e.image_url,alt:"kid smiling",className:"rounded-3xl"}),(0,s.jsxs)("div",{className:"grid gap-1 leading-tight",children:[(0,s.jsxs)("p",{className:"",children:[(0,s.jsx)("span",{className:"block font-satoshi-bold",children:"Full Name"}),(0,s.jsx)("span",{className:"block capitalize",children:m})]}),(0,s.jsxs)("p",{className:"",children:[(0,s.jsx)("span",{className:"block font-satoshi-bold",children:"Date of Birth"}),(0,s.jsx)("span",{className:"block",children:u})]}),(0,s.jsxs)("p",{className:"",children:[(0,s.jsx)("span",{className:"block font-satoshi-bold",children:"Gender"}),(0,s.jsx)("span",{className:"block capitalize",children:e.contestant_biodata.sex.toLowerCase()})]}),(0,s.jsxs)("p",{className:"min-w-0",children:[(0,s.jsx)("span",{className:"block font-satoshi-bold",children:"Email Address"}),(0,s.jsx)("span",{className:"block truncate ...",children:e.contestant_biodata.email})]}),(0,s.jsxs)("p",{className:"",children:[(0,s.jsx)("span",{className:"block font-satoshi-bold",children:"State of Residence"}),(0,s.jsx)("span",{className:"block capitalize",children:e.contestant_biodata.state_of_residence})]})]})]})]})}var o=r(i(),1);function L({contest:e}){return(0,o.jsxs)(j,{method:"POST",encType:"multipart/form-data",className:"bg-secondary p-[5%] sm:p-10 sm:rounded-3xl flex flex-col w-full max-w-xl gap-6",children:[(0,o.jsx)("p",{className:"text-2xl font-satoshi-bold",children:'Participate by filling in your basic information below and clicking "Submit".'}),(0,o.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,o.jsx)(g,{as:"input",labelText:"First Name",id:"first_name",name:"first_name",placeholder:"Enter your first name",required:!0}),(0,o.jsx)(g,{as:"input",labelText:"Last Name",id:"last_name",name:"last_name",placeholder:"Enter your last name",required:!0})]}),(0,o.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,o.jsx)(g,{as:"input",labelText:"Email Address",id:"email",name:"email",placeholder:"Enter your email address",required:!0}),(0,o.jsx)(g,{as:"input",type:"date",labelText:"Date of Birth",id:"dob",name:"dob",placeholder:"dd/mm/yyyy",max:new Date().toISOString().split("T")[0],required:!0})]}),(0,o.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,o.jsxs)("label",{htmlFor:"gender",className:"font-bold flex flex-col",children:["Gender",(0,o.jsxs)(x,{name:"sex",required:!0,children:[(0,o.jsx)(v,{className:"h-10 font-normal rounded-lg shadow-none hover:border-accent",children:(0,o.jsx)(h,{placeholder:"Gender"})}),(0,o.jsxs)(N,{children:[(0,o.jsx)(f,{value:"MALE",className:"focus:bg-blue-700/25",children:"Male"}),(0,o.jsx)(f,{value:"FEMALE",className:"focus:bg-blue-700/25",children:"Female"})]})]})]}),(0,o.jsxs)("label",{htmlFor:"state_of_residence",className:"font-bold flex flex-col",children:["State of Residence",(0,o.jsxs)(x,{name:"state_of_residence",required:!0,children:[(0,o.jsx)(v,{className:"h-10 font-normal rounded-lg shadow-none hover:border-accent",children:(0,o.jsx)(h,{placeholder:"Select a state"})}),(0,o.jsx)(N,{children:Object.entries(J).map(([t,m])=>(0,o.jsx)(f,{value:t,className:"focus:bg-blue-700/25",children:m},t))})]})]})]}),(0,o.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,o.jsx)(g,{as:"input",type:"tel",labelText:"Whatsapp Number",id:"whatsapp_no",name:"whatsapp_no",placeholder:"Enter your whatsapp number",required:!0}),(0,o.jsxs)("label",{htmlFor:"category",className:"font-bold flex flex-col",children:["Category",(0,o.jsxs)(x,{name:"category",required:!!e.categories.length,children:[(0,o.jsx)(v,{className:"h-10 font-normal rounded-lg shadow-none hover:border-accent",children:(0,o.jsx)(h,{placeholder:"Select a category"})}),(0,o.jsx)(N,{children:e.categories.map(t=>(0,o.jsx)(f,{value:t,className:"focus:bg-blue-700/25",children:t},t))})]})]})]}),(0,o.jsx)(H,{labelText:"Upload Image",name:"contestant_image",multiple:!0,required:!0}),(0,o.jsx)("input",{type:"hidden",name:"contestId",value:e._id}),(0,o.jsx)(Y,{element:"button",type:"submit",name:"intent",value:"register",className:"md:self-end",children:"Submit"})]})}var l=r(i(),1);function A({contest:e}){let t=$();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("header",{className:"wrapper my-16 grid md:grid-cols-2 justify-between gap-6 md:gap-8",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-around",children:[(0,l.jsxs)("div",{className:"max-w-2xl",children:[(0,l.jsx)("h1",{className:"text-accent text-2xl lg:text-4xl font-satoshi-black max-w-3xl mb-3",children:e.name}),(0,l.jsx)("p",{className:"font-satoshi-medium",children:e.desc})]}),(0,l.jsx)(S,{deadline:new Date(e.reg_deadline),title:"registration ends in"})]}),(0,l.jsx)("img",{src:e.image||b,alt:"kid smiling",className:"w-full rounded-3xl h-[350px] object-cover"})]}),(0,l.jsx)("section",{className:"sm:wrapper my-16",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-6 sm:gap-8",children:[(0,l.jsx)(Q,{contest:e}),t?.data?(0,l.jsx)(E,{contestant:t.data,contest:e}):(0,l.jsx)(L,{contest:e})]})}),(0,l.jsxs)("section",{className:"my-8 md:my-16",children:[(0,l.jsx)("h2",{className:"text-2xl sm:text-[40px] leading-snug font-satoshi-black w-4/5 max-w-lg text-center mx-auto my-10",children:"Over 500 registered participants and counting"}),(0,l.jsx)(X,{contestants:[{id:"sdjc",image:V},{id:"adcn",image:q},{id:"kjsd",image:W}]})]})]})}var C=r(i(),1);function ee(){let e=z("routes/_public.contests.$tournamentId.$contestId");if(!e)throw new Error("Could not load stage contestants");let{contest:t,stage:m}=e;return(0,C.jsx)("main",{className:"grow",children:t.status==="registering"?(0,C.jsx)(A,{contest:t}):(0,C.jsx)(R,{contest:t,stage:m})})}export{ee as default};
