import{a as l}from"/build/_shared/chunk-ZDHH7VAG.js";import{a as w}from"/build/_shared/chunk-7WQOGNXA.js";import{a as N}from"/build/_shared/chunk-QPE5NVX7.js";import{a as y}from"/build/_shared/chunk-XLO4HCR6.js";import{a as C}from"/build/_shared/chunk-MPFSB7BL.js";import{a as c,b as m,c as u,d as g,e as i}from"/build/_shared/chunk-BI2ASFVQ.js";import"/build/_shared/chunk-7FR7ZJEG.js";import{j as v}from"/build/_shared/chunk-NNNROOR6.js";import"/build/_shared/chunk-HBHTWN7R.js";import"/build/_shared/chunk-LTJF3XWP.js";import{a as r}from"/build/_shared/chunk-DU3ERRUZ.js";import"/build/_shared/chunk-IQWR6URL.js";import"/build/_shared/chunk-UJQ7BYHA.js";import"/build/_shared/chunk-ZJKJC2ET.js";import"/build/_shared/chunk-SV3SHFZF.js";import"/build/_shared/chunk-FNRBHFIN.js";import"/build/_shared/chunk-EQOSR4CK.js";import"/build/_shared/chunk-IXKRAC64.js";import"/build/_shared/chunk-7ERNTC7H.js";import"/build/_shared/chunk-G6RWU2BR.js";import{a as q}from"/build/_shared/chunk-74OT6ATM.js";import{m as h,q as x,s as S}from"/build/_shared/chunk-SN2BHVXC.js";import{a as E,b as _}from"/build/_shared/chunk-653BTUZP.js";import{c as d}from"/build/_shared/chunk-W5DRAD4K.js";var I=d(q(),1);var n=d(E(),1);var e=d(_(),1);function V(){let{error:a,data:s}=x(),t=S();console.log({data:s});let[f,o]=(0,n.useState)(),[p,F]=(0,n.useState)(),[D,A]=(0,n.useState)();return a&&l({variant:"destructive",title:"An error occured",description:a?.detail.toString()??"Error occured"}),(0,n.useEffect)(()=>{t&&(t.error?(console.error(t.error.detail),l({variant:"destructive",title:"Update Failed",description:t.error?.detail?.toString()??"An error occurred while updating your details."})):t.data&&l({variant:"default",title:"Update Successful!",description:"Your contestant details have been updated."}))},[t]),(0,n.useEffect)(()=>{if(s){o(s);let b=s.stages?.[0];F(b),A(b.contestants?.[0])}else l({variant:"destructive",title:"An error occured",description:a?.detail.toString()??"Error occured"})},[]),console.log({contest:f}),{contest:f,error:a,stage:p,contestant:D,actionData:t}}function T(){let{contest:a,stage:s,contestant:t,actionData:f}=V();return a?(0,e.jsxs)("section",{children:[(0,e.jsx)("header",{className:"wrapper my-16 grid md:grid-cols-2 justify-between gap-6 md:gap-8",children:(0,e.jsx)("div",{className:"flex flex-col justify-around",children:(0,e.jsxs)("div",{className:"max-w-2xl",children:[(0,e.jsx)("h1",{className:"text-accent text-2xl lg:text-4xl font-satoshi-black max-w-3xl mb-3",children:a.name}),(0,e.jsx)("p",{className:"font-satoshi-medium",children:a.desc})]})})}),(0,e.jsx)("section",{className:"sm:wrapper my-16",children:(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-6 sm:gap-8",children:[(0,e.jsx)(w,{contest:a}),(0,e.jsxs)(h,{method:"POST",encType:"multipart/form-data",className:"bg-secondary p-[5%] sm:p-10 sm:rounded-3xl flex flex-col w-full max-w-xl gap-6",children:[(0,e.jsxs)("p",{className:"text-2xl font-satoshi-bold",children:["Welcome, ",t?.contestant_biodata.first_name,". You can manage your profile for ",a.name," here"]}),(0,e.jsx)("img",{src:t?.image_url||v,alt:"kid smiling",className:"w-full rounded-3xl h-[350px] object-cover"}),(0,e.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,e.jsx)(r,{as:"input",labelText:"First Name",id:"first_name",name:"first_name",defaultValue:t?.contestant_biodata?.first_name,placeholder:"Enter your first name",required:!0}),(0,e.jsx)(r,{as:"input",labelText:"Last Name",id:"last_name",name:"last_name",defaultValue:t?.contestant_biodata?.last_name,placeholder:"Enter your last name",required:!0})]}),(0,e.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,e.jsx)(r,{as:"input",labelText:"Email Address",id:"email",name:"email",defaultValue:t?.contestant_biodata?.email,placeholder:"Enter your email address",required:!0}),(0,e.jsx)(r,{as:"input",type:"date",labelText:"Date of Birth",id:"dob",name:"dob",defaultValue:t?.contestant_biodata?.dob,placeholder:"dd/mm/yyyy",max:new Date().toISOString().split("T")[0],required:!0})]}),(0,e.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,e.jsxs)("label",{htmlFor:"gender",className:"font-bold flex flex-col",children:["Gender",(0,e.jsxs)(c,{name:"sex",required:!0,defaultValue:t?.contestant_biodata?.sex,children:[(0,e.jsx)(u,{className:"h-10 font-normal rounded-lg shadow-none hover:border-accent",children:(0,e.jsx)(m,{placeholder:"Gender"})}),(0,e.jsxs)(g,{children:[(0,e.jsx)(i,{value:"MALE",className:"focus:bg-blue-700/25",children:"Male"}),(0,e.jsx)(i,{value:"FEMALE",className:"focus:bg-blue-700/25",children:"Female"})]})]})]}),(0,e.jsxs)("label",{htmlFor:"state_of_residence",className:"font-bold flex flex-col",children:["State of Residence",(0,e.jsxs)(c,{name:"state_of_residence",required:!0,defaultValue:t?.contestant_biodata?.state_of_residence,children:[(0,e.jsx)(u,{className:"h-10 font-normal rounded-lg shadow-none hover:border-accent",children:(0,e.jsx)(m,{placeholder:"Select a state"})}),(0,e.jsx)(g,{children:Object.entries(C).map(([o,p])=>(0,e.jsx)(i,{value:o,className:"focus:bg-blue-700/25",children:p},o))})]})]})]}),(0,e.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,e.jsx)(r,{as:"input",type:"tel",labelText:"Whatsapp Number",id:"whatsapp_no",name:"whatsapp_no",placeholder:"Enter your whatsapp number",required:!0,defaultValue:t?.contestant_biodata?.whatsapp_no}),(0,e.jsxs)("label",{htmlFor:"category",className:"font-bold flex flex-col",children:["Category",(0,e.jsxs)(c,{name:"category",required:!!a.categories.length,defaultValue:t?.category,children:[(0,e.jsx)(u,{className:"h-10 font-normal rounded-lg shadow-none hover:border-accent",children:(0,e.jsx)(m,{placeholder:"Select a category"})}),(0,e.jsx)(g,{children:a.categories.map(o=>(0,e.jsx)(i,{value:o,className:"focus:bg-blue-700/25",children:o},o))})]})]})]}),(0,e.jsx)(N,{labelText:"Upload Image",name:"media",multiple:!0,required:!1}),(0,e.jsx)("input",{type:"hidden",name:"contestId",value:a._id}),(0,e.jsx)("input",{type:"hidden",name:"contestantId",value:t?._id}),(0,e.jsx)(y,{element:"button",type:"submit",name:"intent",value:"register",className:"md:self-end",children:"Update contestant details"})]})]})})]}):(0,e.jsx)("div",{children:" Not found"})}export{T as default};
