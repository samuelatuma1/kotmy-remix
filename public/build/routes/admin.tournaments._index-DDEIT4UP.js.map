{
  "version": 3,
  "sources": ["../../../app/routes/admin.tournaments._index.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/admin.tournaments._index.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/admin.tournaments._index.tsx\");\n  import.meta.hot.lastModified = \"1760080481968.5461\";\n}\n// REMIX HMR END\n\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData } from \"@remix-run/react\";\nimport { tournamentRepo } from \"~/services/tournament/tournament.server\";\nimport { setToast } from \"~/lib/session.server\";\n// import { memoryCache as cache } from \"~/lib/cache\"\nimport TournamentCard from \"~/components/admin/tournament/TournamentCard\";\nimport Cta from \"~/components/reusables/Cta\";\nimport Svg from \"~/components/reusables/Svg\";\nimport { icons } from \"~/assets/icons\";\nexport async function loader({}) {\n  const {\n    data: tournaments,\n    error\n  } = await tournamentRepo.getTournaments();\n  if (error) throw new Error(error.detail);\n  return json({\n    tournaments\n  });\n}\n\n// export async function clientLoader({ request, serverLoader }: ClientLoaderFunctionArgs) {\n//     const cachedItem = await cache.getItem('tournaments')\n//     if (cachedItem) return cachedItem\n//     const loaderData = await serverLoader<typeof loader>()\n//     cache.setItem('tournaments', loaderData)\n//     return loaderData\n// }\n// clientLoader.hydrate = true\n\nexport async function action({\n  request\n}) {\n  const formData = await request.formData();\n  const intent = formData.get('intent');\n  if (intent === 'delete') {\n    const tournamentId = formData.get('tournamentId');\n    const {\n      data,\n      error\n    } = await tournamentRepo.deleteTournament(tournamentId);\n    if (error) {\n      const {\n        headers\n      } = await setToast({\n        request,\n        toast: `error::Could not delete the tournament::${Date.now()}`\n      });\n      return json(error, {\n        headers\n      });\n    }\n    const {\n      headers\n    } = await setToast({\n      request,\n      toast: `success::The tournament has been deleted::${Date.now()}`\n    });\n    return json(data, {\n      headers\n    });\n  }\n  return json(null);\n}\nexport default function Tournaments() {\n  _s();\n  const {\n    tournaments\n  } = useLoaderData();\n  const numberOfContests = tournaments.reduce((total, tournament) => total + tournament.contests.length, 0);\n  return <main className='w-full overflow-y-auto p-6'>\r\n            <section className=\"flex justify-between items-center mb-8 sm:mb-16\">\r\n                <h1 className=\"text-2xl font-black text-primary\">Tournaments</h1>\r\n                <Cta element=\"link\" to='add' className=\"hidden sm:flex gap-2 items-center rounded-lg px-3 py-2\">\r\n                    <Svg src={icons.addIcon} width={'.9em'} />\r\n                    Create Tournament\r\n                </Cta>\r\n            </section>\r\n            <aside className=\"sm:flex justify-evenly max-w-xl mx-auto gap-2 p-3 border rounded-md my-4 bg-[#F6F8FA] text-sm\">\r\n                <div className='flex gap-3 items-center'>\r\n                    <span className=\"bg-tertiary p-2 rounded-full border\"><Svg src={icons.adminTournamentIcon} className=\"text-primary\" /></span>\r\n                    <span className=\"grid\">\r\n                        <span className='text-primary font-satoshi-black'>{tournaments.length}</span>\r\n                        <span className=''>Tournaments Created</span>\r\n                    </span>\r\n                </div>\r\n                <div className=\"max-sm:my-2 max-sm:border-t sm:border-r sm:h-10\" />\r\n                <div className='flex gap-3 items-center'>\r\n                    <span className=\"bg-tertiary p-2 rounded-full border\"><Svg src={icons.adminContestIcon} className=\"text-primary\" /></span>\r\n                    <span className=\"grid\">\r\n                        <span className='text-primary font-satoshi-black'>{numberOfContests}</span>\r\n                        <span className=''>Contests Created</span>\r\n                    </span>\r\n                </div>\r\n            </aside>\r\n            <Cta element=\"link\" to='add' className=\"flex sm:hidden gap-2 justify-center items-center rounded-lg px-3 py-2\">\r\n                <Svg src={icons.addIcon} width={'.9em'} />\r\n                Create Tournament\r\n            </Cta>\r\n            <section className=\"my-8 grid sm:grid-cols-2 gap-6\">\r\n                {tournaments.map(tournament => <TournamentCard key={tournament.id} tournament={tournament} />)}\r\n            </section>\r\n        </main>;\n}\n_s(Tournaments, \"zf5kIJmsOPBusavkkMaDEvfRxro=\", false, function () {\n  return [useLoaderData];\n});\n_c = Tournaments;\nvar _c;\n$RefreshReg$(_c, \"Tournaments\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
