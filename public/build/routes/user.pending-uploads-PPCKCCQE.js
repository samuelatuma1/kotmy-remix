import{a as p}from"/build/_shared/chunk-ZDHH7VAG.js";import{j as f}from"/build/_shared/chunk-NNNROOR6.js";import{a as U}from"/build/_shared/chunk-74OT6ATM.js";import{l as c,q as g}from"/build/_shared/chunk-SN2BHVXC.js";import{a as C,b as m}from"/build/_shared/chunk-653BTUZP.js";import{c as d}from"/build/_shared/chunk-W5DRAD4K.js";var i=d(C(),1);var u=d(U(),1);var t=d(m(),1);var l=class{flattenToContestantUpload(e){let n=[];for(let a of e.stages)for(let o of a.contestants){let r={fullName:`${o.contestant_biodata?.first_name} ${o.contestant_biodata?.last_name}`,contestantCode:o.code,contestName:e.name,stage:a.stage,status:a.status,stageMediaType:a.media_type??"image",contestImage:e.image_url??"",contestantId:o._id};n.push(r)}return n}flattenToContestantsPendingUpload(e){let n=[];for(let a of e){let o=this.flattenToContestantUpload(a);n.push(...o)}return n}},I=new l,N=({contestImageUrl:s,contest_name:e,stage:n,full_name:a,contestantId:o})=>(0,t.jsx)(c,{to:`/user/contestant/${o}`,className:"block transition-shadow",children:(0,t.jsxs)("article",{children:[(0,t.jsx)("img",{src:s||f,alt:a,className:"w-full aspect-[3/4] rounded-lg object-cover"}),(0,t.jsxs)("div",{className:"pt-4",children:[(0,t.jsxs)("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:[e,(0,t.jsx)("br",{}),"stage ",n]}),(0,t.jsx)("h3",{className:"mt-1 text-lg font-bold text-gray-900",children:a})]})]})});function P(){let{data:s,error:e,authRequired:n}=g(),[a,o]=(0,i.useState)([]);return e&&p({variant:"destructive",title:"An error occured",description:e?.detail.toString()??"Error occured"}),(0,i.useEffect)(()=>{if(s){let r=I.flattenToContestantsPendingUpload(s);o(r),console.log({flattenedUploads:r})}},[s]),{pendingUploads:a}}function x(){let{pendingUploads:s}=P();return(0,t.jsx)("div",{className:"min-h-screen",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:[(0,t.jsx)("header",{className:"bg-[#817EFB] overflow-hidden rounded-3xl py-8 md:py-12 lg:py-16 px-5",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto text-center",children:[(0,t.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white",children:"Pending uploads"}),(0,t.jsx)("p",{className:"mt-4 text-base md:text-lg text-purple-100",children:"Please, we are expecting your uploads for the following stages"})]})}),(0,t.jsx)("main",{className:"py-12 md:py-16",children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-x-8 gap-y-12 sm:grid-cols-2 lg:grid-cols-3",children:s.map((e,n)=>(0,t.jsx)(N,{contestImageUrl:e.contestImage,contest_name:e.contestName,stage:e.stage.toString(),full_name:e.fullName,contestantId:e.contestantId},e.contestantId))})})]})})}export{x as default};
